{"ast":null,"code":"var _jsxFileName = \"D:\\\\oig\\\\mern-blog\\\\client\\\\src\\\\Header.js\";\nimport { Link } from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"./UserContext\";\nexport default function Header() {\n  const {\n    setUserInfo,\n    userInfo\n  } = useContext(UserContext);\n  useEffect(() => {\n    fetch('http://localhost:4000/profile', {\n      credentials: 'include'\n    }).then(response => {\n      response.json().then(userInfo => {\n        setUserInfo(userInfo);\n      });\n    });\n  }, []);\n  function logout() {\n    fetch('http://localhost:4000/logout', {\n      credentials: 'include',\n      method: 'POST'\n    });\n    setUserInfo(null);\n  }\n  const username = userInfo === null || userInfo === void 0 ? void 0 : userInfo.username;\n  return /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"MyBlog\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, username && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Create new post\"), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Logout (\", username, \")\")), !username && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Register\"))));\n}","map":{"version":3,"names":["Link","useContext","useEffect","useState","UserContext","Header","setUserInfo","userInfo","fetch","credentials","then","response","json","logout","method","username","React","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","className","Fragment","onClick"],"sources":["D:/oig/mern-blog/client/src/Header.js"],"sourcesContent":["\r\nimport {Link} from \"react-router-dom\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {UserContext} from \"./UserContext\";\r\n\r\nexport default function Header() {\r\n  const {setUserInfo,userInfo} = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/profile', {\r\n      credentials: 'include',\r\n    }).then(response => {\r\n      response.json().then(userInfo => {\r\n        setUserInfo(userInfo);\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  function logout() {\r\n    fetch('http://localhost:4000/logout', {\r\n      credentials: 'include',\r\n      method: 'POST',\r\n    });\r\n    setUserInfo(null);\r\n  }\r\n\r\n  const username = userInfo?.username;\r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\" className=\"logo\">MyBlog</Link>\r\n      <nav>\r\n        {username && (\r\n          <>\r\n            <Link to=\"/create\">Create new post</Link>\r\n            <a onClick={logout}>Logout ({username})</a>\r\n          </>\r\n        )}\r\n        {!username && (\r\n          <>\r\n            <Link to=\"/login\">Login</Link>\r\n            <Link to=\"/register\">Register</Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n"],"mappings":";AACA,SAAQA,IAAI,QAAO,kBAAkB;AACrC,SAAQC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACrD,SAAQC,WAAW,QAAO,eAAe;AAEzC,eAAe,SAASC,MAAMA,CAAA,EAAG;EAC/B,MAAM;IAACC,WAAW;IAACC;EAAQ,CAAC,GAAGN,UAAU,CAACG,WAAW,CAAC;EACtDF,SAAS,CAAC,MAAM;IACdM,KAAK,CAAC,+BAA+B,EAAE;MACrCC,WAAW,EAAE;IACf,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;MAClBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAACH,QAAQ,IAAI;QAC/BD,WAAW,CAACC,QAAQ,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,SAASM,MAAMA,CAAA,EAAG;IAChBL,KAAK,CAAC,8BAA8B,EAAE;MACpCC,WAAW,EAAE,SAAS;MACtBK,MAAM,EAAE;IACV,CAAC,CAAC;IACFR,WAAW,CAAC,IAAI,CAAC;EACnB;EAEA,MAAMS,QAAQ,GAAGR,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,QAAQ;EAEnC,oBACEC,KAAA,CAAAC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEP,KAAA,CAAAC,aAAA,CAACjB,IAAI;IAACwB,EAAE,EAAC,GAAG;IAACC,SAAS,EAAC,MAAM;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAY,CAAC,eAC3CP,KAAA,CAAAC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACGR,QAAQ,iBACPC,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAU,QAAA,qBACEV,KAAA,CAAAC,aAAA,CAACjB,IAAI;IAACwB,EAAE,EAAC,SAAS;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,iBAAqB,CAAC,eACzCP,KAAA,CAAAC,aAAA;IAAGU,OAAO,EAAEd,MAAO;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAQ,EAACR,QAAQ,EAAC,GAAI,CAC1C,CACH,EACA,CAACA,QAAQ,iBACRC,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAU,QAAA,qBACEV,KAAA,CAAAC,aAAA,CAACjB,IAAI;IAACwB,EAAE,EAAC,QAAQ;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAW,CAAC,eAC9BP,KAAA,CAAAC,aAAA,CAACjB,IAAI;IAACwB,EAAE,EAAC,WAAW;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAc,CACnC,CAED,CACC,CAAC;AAEb","ignoreList":[]},"metadata":{},"sourceType":"module"}